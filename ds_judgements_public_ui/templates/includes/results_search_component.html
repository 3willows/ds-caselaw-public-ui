{% load waffle_tags %}
<div class="results-search-component">
  <form action="{% url 'search' %}" id="analytics-results-filters">
    {% if context.per_page is not None %}<input type="hidden" name="per_page" value="{{ context.per_page }}" />{% endif %}
    {% if context.order is not None %}<input type="hidden" name="order" value="{{ context.order }}" />{% endif %}
    <div class="results-search-component__container js-results-facets-wrapper">
      {% include "includes/results_search_field.html" %}
      {% flag faceted_search %}
        {% if context.court_facets and not context.query_params.court %}
          {% include "includes/facets/court_and_tribunal_search_facets.html" with type="court" facets=context.court_facets.items query_param=context.query_params.court %}
        {% endif %}
        {% if context.tribunal_facets and not context.query_params.tribunal %}
          {% include "includes/facets/court_and_tribunal_search_facets.html" with type="tribunal" facets=context.tribunal_facets.items query_param=context.query_params.tribunal %}
        {% endif %}
        {% if context.year_facets %}
          {% include "includes/facets/year_search_facets.html" %}
        {% endif %}
      {% endflag %}
      <div class="results-search-component__filters-row">
        {% include "includes/results_applied_filters.html" %}
        <div class="results-search-component__control-container js-results-control-container"></div>
      </div>
      <div>{% include "includes/results_filters.html" %}</div>
      <div class="results-search-component__mobile-submit-button">
        <input type="submit"
               value="Search"
               class="results-search-component__search-submit-button" />
      </div>
    </div>
  </form>
</div>
